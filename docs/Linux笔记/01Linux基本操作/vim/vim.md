# Headline

> An awesome project.
# vim基本操作  

1. 文件打开、新建、保存
   
    | 命令 | 说明 |
    | :--: | :--: |
    | x	 | 保存当前文档并且退出 |
    | q	 | 退出 |
    | w	 | 保存文档 |
    | q! | 退出 vi/vim，不保存文档 |
    
2. 进入编辑模式
    | 命令 | 说明 | 命令 | 说明 |
    | ---- | ---- | ---- | ---- |
    | i | 在光标前开始插入文本 | I | 在当前光标所在行的行首转换为编辑模式。|
	| a | 在光标后开始插入文本 | A | 在光标所在行的行尾，转换为编辑模式。|
    | o | 在当前行之下新开一行，并到行首 | O | 在当前行之上新开一行|

3. 光标移动	
在一般模式下，h(左) j(下) k(上) l(右) 这四个按键就可以移动光标
    1. 多行间切换
       
        | 命令 | 说明 | 命令 | 说明 |
	    | ---- | ---- | ---- | ---- |
	    | Ctrl+f | 向前滚动一整屏 | Ctrl+b | 向后滚动一整屏|
	    | gg     | 转至文件开头	| G      | 转至文件结尾|
       | ngg/nG | 光标移至第n行的行首（n为数字）|:n | 光标移至第n行的行首（n为数字）|
	    | n+     | 光标向下移动n行（n为数字）	 | n-     | 光标向上移动n行（n为数字）|
	    | j/nj   | 光标向下移动1行/n行（n为数字）| k/nk   | 光标向上移动1行/n行（n为数字）|
	    
	 2. 单行列切换	
		| 命令  | 说明  | 命令  | 说明  |
		| ----- | ----- | ----- | ----- |
		|   0   |光标移至当前行行首	| $    | 光标移至当前行行末|
		|   h/nh|光标向左移动1列/n列（n为数字）| k/nk | 光标向右移动1列/n列（n为数字）|
		|   w   |光标移动到下一个字的开头 | b    | 光标移动到上一个字的开头|
		|  fx   |搜索当前行中下一个出现字母x的地方 | Fx   | 搜索当前行中上一个出现字母x的地方|
	
4. 复制、粘贴、删除、撤销  
	1. 文本复制命令	
		| 命令  | 说明  | 命令  | 说明  |
		| ----- | ----- | ----- | ----- |
		| yy | 复制当前行 | nyy | 复制当前行及其后的n-1行|
		
	2. 文本删除命令
		| 命令  | 说明  | 命令  | 说明  |
		| ----- | ----- | ----- | ----- |
		| x  | 删除光标所在位置的字符  | X    | 删除光标前的一个字符|
		| nx | 删除光标所在位置和光标后的n-1个字符 | nX   | 删除光标前的n个字符|
		| dw | 从光标处删至当前词尾| db   | 从光标处删至当前词首|
		| d0 | 从光标处删至行首	 | d$/D | 从光标处删至行尾|
		| dd | 删除光标所在行，不提供修改功能| ndd  | 删除当前行及其后的n-1行|
		| cc | 删除整行，并且修改整行内容 | s	  | 删除光标所在字符|

	3. 本粘贴命令	
		使用**P**键，
		如复制当前行，先用**yy**复制当前行，切换到目的行的上一行后，用**p**来粘贴所复制的行。
		如剪切当前行，先用**dd**复制当前行，切换到目的行的上一行后，用**p**来粘贴所剪切的行。

	4. 撤销命令	
		按**u**键来撤销上一步操作
	
5. 查找及替换命令  	
    | 命令 | 说明 |
    | -------   | -----|
    | /pattern  |从光标开始处向文件尾搜索pattern（在/pattern之前先跳到第一行则进行全文件搜索），后按下**n**或**N**	|
	| ?pattern  |从光标开始处向文件首部搜索pattern ，后按下**n**或**N**|
	**注：**n在同一个方向重复上一次搜索命令  N在反方向重复上一次搜索命令
	
    | 命令 |    说明  | 命令 | 说明  |
    |  -----  | -----|----- | -----  |
	| :s/p1/p2/g      | 将当前行中所有的p1均用p2替换，   | :s /p1/p2/gc     | 替换时需要确认|
	| :n1,n2s/p1/p2/g | 将n1至n2行中所有的p1均用p2替换， | :n1,n2s/p1/p2/gc | 替换时需要确认|
    | :%s/p1/p2/g     | 将文件中所有的p1均用p2替换，     | :%s/p1/p2/gc     | 替换时需要确认|

    **注意：**在/pattern之前先跳到第一行则进行全文件搜索。
    
    > s:substitute替换
    g:global全局
c:confirm确认
    
6. vim注释
	1. 在 10 - 20 行添加 // 注释
	:10,20s#^#//#g

	2. 在 10 - 20 行删除 // 注释
	:10,20s#^//##g

	3. 在 10 - 20 行添加 # 注释
	:10,20s/^/#/g

	4. 在 10 - 20 行删除 # 注释
	:10,20s/#//g

	* 方法一：块选择模式
		1. 插入注释
		（1）首先按键盘上的ESC进入命令行模式
		（2）再按Ctrl+V进入VISUAL BLOCK模式
		（3）利用上下左右键调整需要注释多少行以及行的宽度
		（4）再按Shift+i或s进入插入模式
		（5）输入代表注释的符号，比如#
		（6）再次按ESC键，这时就可完成多行注释（可能需要等上一会，不要着急）

		2. 去注释
		前三步与加注释相同。
		（1）首先按键盘上的ESC进入命令行模式
		（2）再按Ctrl+V进入VISUAL BLOCK模式
		（3）利用上下左右键调整需要去注释多少行以及行的宽度
		（4）再按d即可完成去注释

	* 方法二：替换命令
		1. 插入注释
		（1）首先按键盘上的ESC进入命令行模式
		（2）再在底行输入以下命令
		:起始行号,结束行号s/^/注释符/g

		2. 去注释
		（1）首先按键盘上的ESC进入命令行模式
		（2）再在底行输入以下命令
		:起始行号,结束行号s/^注释符//g
	
7. vim 源码阅读和跟踪
	1. ctargs -R 生成tags文件，如果修改源码需重新生成
	2. ctrl+] 转到定义	 ctrl+o 返回
	3. :TlistToggle 查看列表, ctrl+ww  列表和代码区切换
